---
title: "Project Architecture"
description: "Project Architectureç›¸å…³æ–‡æ¡£"
type: "docs"
category: "03-development"
doc_type: "design"
order: 1
version: "1.0"
created: "2025-06-08"
lastModified: "2025-06-08"
author: "é¡¹ç›®å›¢é˜Ÿ"
maintainer: "ç»´æŠ¤è€…åç§°"
status: "active"
difficulty: "advanced"

cascade:
  - type: docs
  - show_breadcrumb: true
  - show_toc: true
  - show_edit_link: true
  - show_last_modified: true
---

# ğŸ—ï¸ Astro-Nav é¡¹ç›®æ¶æ„æ–¹æ¡ˆ

## ğŸ“‹ é¡¹ç›®æ¦‚è¿°

Astro-Nav æ˜¯ä¸€ä¸ªé…ç½®é©±åŠ¨çš„å¯¼èˆªç½‘ç«™è§£å†³æ–¹æ¡ˆï¼Œé‡‡ç”¨å‰åç«¯åˆ†ç¦»æ¶æ„ï¼Œè®©ç”¨æˆ·å¯ä»¥é€šè¿‡è¡¨æ ¼æ•°æ®å¿«é€Ÿç”Ÿæˆä¸“ä¸šçš„å¯¼èˆªç½‘ç«™ã€‚

## ğŸ¯ è®¾è®¡ç†å¿µ

### æ ¸å¿ƒåŸåˆ™
- **é…ç½®é©±åŠ¨** - é€šè¿‡é…ç½®æ–‡ä»¶æ§åˆ¶ç½‘ç«™å†…å®¹å’Œç»“æ„
- **å‰åç«¯åˆ†ç¦»** - å‰ç«¯ä¸“æ³¨å±•ç¤ºï¼Œåç«¯ä¸“æ³¨æ•°æ®å¤„ç†
- **æ€§èƒ½ä¼˜å…ˆ** - å‰ç«¯çº¯é™æ€éƒ¨ç½²ï¼Œç¡®ä¿æé€Ÿè®¿é—®
- **ç”¨æˆ·å‹å¥½** - è¡¨æ ¼å¯¼å…¥ï¼Œé™ä½æŠ€æœ¯é—¨æ§›

### æŠ€æœ¯ä¼˜åŠ¿
- âš¡ **æé€Ÿæ€§èƒ½** - å‰ç«¯é›¶APIè°ƒç”¨ï¼Œçº¯é™æ€åŠ è½½
- ğŸ’° **æˆæœ¬æœ€ä½** - å‰ç«¯å…è´¹æ‰˜ç®¡ï¼Œåç«¯æŒ‰éœ€ä½¿ç”¨
- ğŸ”§ **æ˜“äºç»´æŠ¤** - é…ç½®æ–‡ä»¶ç‰ˆæœ¬æ§åˆ¶ï¼Œæ”¯æŒå›æ»š
- ğŸš€ **å¿«é€Ÿéƒ¨ç½²** - è‡ªåŠ¨åŒ–æ„å»ºå’Œéƒ¨ç½²æµç¨‹

## ğŸ—ï¸ æ¶æ„è®¾è®¡

### åŒé¡¹ç›®æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    é…ç½®æ–‡ä»¶    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     â”‚ â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚                     â”‚
â”‚   é¡¹ç›®1: å¯¼èˆªç½‘ç«™    â”‚               â”‚ é¡¹ç›®2: é…ç½®ç”Ÿæˆå™¨    â”‚
â”‚   (çº¯é™æ€å‰ç«¯)       â”‚               â”‚   (åç«¯æœåŠ¡)        â”‚
â”‚                     â”‚               â”‚                     â”‚
â”‚ â€¢ è¯»å–é…ç½®æ–‡ä»¶       â”‚               â”‚ â€¢ è¡¨æ ¼æ–‡ä»¶ä¸Šä¼       â”‚
â”‚ â€¢ æ¸²æŸ“å¯¼èˆªç•Œé¢       â”‚               â”‚ â€¢ æ•°æ®è§£æéªŒè¯      â”‚
â”‚ â€¢ å“åº”å¼è®¾è®¡         â”‚               â”‚ â€¢ é…ç½®æ–‡ä»¶ç”Ÿæˆ      â”‚
â”‚ â€¢ SEOä¼˜åŒ–           â”‚               â”‚ â€¢ æ–‡ä»¶ä¸‹è½½æœåŠ¡      â”‚
â”‚ â€¢ æé€ŸåŠ è½½          â”‚               â”‚ â€¢ APIæ¥å£          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â†“                                       â†‘
   æœ€ç»ˆç”¨æˆ·è®¿é—®                            å¼€å‘è€…/ç®¡ç†å‘˜ä½¿ç”¨
```

## ğŸ“ é¡¹ç›®ç»“æ„

### é¡¹ç›®1: å¯¼èˆªç½‘ç«™ (astro-nav-site)

```
astro-nav-site/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ pages/
â”‚   â”‚   â”œâ”€â”€ index.astro              # å¯¼èˆªé¦–é¡µ
â”‚   â”‚   â”œâ”€â”€ config-demo.astro        # é…ç½®æ¼”ç¤ºé¡µé¢
â”‚   â”‚   â””â”€â”€ [...slug].astro          # åŠ¨æ€è·¯ç”±
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ Navigation.astro         # å¯¼èˆªç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ SiteCard.astro          # ç½‘ç«™å¡ç‰‡
â”‚   â”‚   â”œâ”€â”€ CategoryCard.astro       # åˆ†ç±»å¡ç‰‡
â”‚   â”‚   â””â”€â”€ Sidebar.astro           # ä¾§è¾¹æ 
â”‚   â”œâ”€â”€ layouts/
â”‚   â”‚   â””â”€â”€ Layout.astro            # é¡µé¢å¸ƒå±€
â”‚   â”œâ”€â”€ config/
â”‚   â”‚   â””â”€â”€ site.json               # ğŸ¯ æ ¸å¿ƒé…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ utils/
â”‚   â”‚   â”œâ”€â”€ configLoader.ts         # é…ç½®è¯»å–å·¥å…·
â”‚   â”‚   â””â”€â”€ searchUtils.ts          # æœç´¢åŠŸèƒ½
â”‚   â””â”€â”€ types/
â”‚       â””â”€â”€ config.ts               # ç±»å‹å®šä¹‰
â”œâ”€â”€ public/
â”‚   â”œâ”€â”€ logos/                      # ç½‘ç«™Logoèµ„æº
â”‚   â””â”€â”€ favicon.ico                 # ç½‘ç«™å›¾æ ‡
â”œâ”€â”€ astro.config.mjs                # Astroé…ç½®
â””â”€â”€ README.md                       # ä½¿ç”¨è¯´æ˜
```

### é¡¹ç›®2: é…ç½®ç”Ÿæˆå™¨ (astro-nav-generator)

```
astro-nav-generator/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ pages/
â”‚   â”‚   â”œâ”€â”€ index.astro             # ä¸Šä¼ ç•Œé¢
â”‚   â”‚   â”œâ”€â”€ preview.astro           # é¢„è§ˆé¡µé¢
â”‚   â”‚   â””â”€â”€ api/
â”‚   â”‚       â”œâ”€â”€ parse-menu.ts       # èœå•è§£æAPI
â”‚   â”‚       â”œâ”€â”€ parse-site.ts       # ç½‘ç«™è§£æAPI
â”‚   â”‚       â””â”€â”€ generate.ts         # é…ç½®ç”ŸæˆAPI
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ FileUpload.astro        # æ–‡ä»¶ä¸Šä¼ ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ DataPreview.astro       # æ•°æ®é¢„è§ˆç»„ä»¶
â”‚   â”‚   â””â”€â”€ ErrorDisplay.astro      # é”™è¯¯æ˜¾ç¤ºç»„ä»¶
â”‚   â”œâ”€â”€ utils/
â”‚   â”‚   â”œâ”€â”€ tableParser.ts          # è¡¨æ ¼è§£æé€»è¾‘
â”‚   â”‚   â”œâ”€â”€ dataValidator.ts        # æ•°æ®éªŒè¯é€»è¾‘
â”‚   â”‚   â””â”€â”€ configGenerator.ts      # é…ç½®ç”Ÿæˆé€»è¾‘
â”‚   â”œâ”€â”€ types/
â”‚   â”‚   â””â”€â”€ tableImport.ts          # å¯¼å…¥ç±»å‹å®šä¹‰
â”‚   â””â”€â”€ docs/
â”‚       â”œâ”€â”€ TABLE_FORMAT.md         # è¡¨æ ¼æ ¼å¼è¯´æ˜
â”‚       â””â”€â”€ API_DOCS.md             # APIæ–‡æ¡£
â”œâ”€â”€ public/
â”‚   â””â”€â”€ templates/                  # è¡¨æ ¼æ¨¡æ¿æ–‡ä»¶
â”‚       â”œâ”€â”€ menu-template.csv       # èœå•æ¨¡æ¿
â”‚       â””â”€â”€ site-template.csv       # ç½‘ç«™æ¨¡æ¿
â”œâ”€â”€ vercel.json                     # Verceléƒ¨ç½²é…ç½®
â””â”€â”€ README.md                       # ä½¿ç”¨è¯´æ˜
```

## ğŸ”„ å·¥ä½œæµç¨‹

### å¼€å‘è€…/ç®¡ç†å‘˜æµç¨‹

```mermaid
graph TD
    A[å‡†å¤‡è¡¨æ ¼æ•°æ®] --> B[è®¿é—®é…ç½®ç”Ÿæˆå™¨]
    B --> C[ä¸Šä¼ èœå•è¡¨æ ¼]
    C --> D[ä¸Šä¼ ç½‘ç«™è¡¨æ ¼]
    D --> E[æ•°æ®éªŒè¯å’Œé¢„è§ˆ]
    E --> F{éªŒè¯é€šè¿‡?}
    F -->|å¦| G[ä¿®æ­£æ•°æ®] --> C
    F -->|æ˜¯| H[ç”Ÿæˆé…ç½®æ–‡ä»¶]
    H --> I[ä¸‹è½½config.json]
    I --> J[æ›´æ–°å‰ç«¯é¡¹ç›®é…ç½®]
    J --> K[æäº¤ä»£ç è§¦å‘éƒ¨ç½²]
    K --> L[å¯¼èˆªç½‘ç«™æ›´æ–°å®Œæˆ]
```

### æœ€ç»ˆç”¨æˆ·æµç¨‹

```mermaid
graph TD
    A[è®¿é—®å¯¼èˆªç½‘ç«™] --> B[åŠ è½½é…ç½®æ–‡ä»¶]
    B --> C[æ¸²æŸ“å¯¼èˆªç•Œé¢]
    C --> D[æµè§ˆç½‘ç«™åˆ†ç±»]
    D --> E[ç‚¹å‡»è®¿é—®ç›®æ ‡ç½‘ç«™]
```

## ğŸ“Š æ•°æ®æµè®¾è®¡

### è¡¨æ ¼æ•°æ®æ ¼å¼

#### èœå•è¡¨æ ¼ (menu-template.csv)
```csv
menuId,menuName,menuIcon,menuType,parentMenuId,sortOrder
tracking,è¿½è¸ªç³»ç»Ÿ,mdi:chart-line,single,,1
traffic,æµé‡å¹³å°,mdi:traffic-light,tabs,,2
traffic-pop,PoPæµé‡,mdi:popup,single,traffic,1
```

#### ç½‘ç«™è¡¨æ ¼ (site-template.csv)
```csv
menuId,title,description,url,advantages,pros,cons,tips
tracking,Binom,é«˜æ€§èƒ½tracker,https://binom.org,é€Ÿåº¦å¿«;ä»·æ ¼åˆç†,æ€§ä»·æ¯”é«˜,éœ€è¦æŠ€æœ¯,é€‰æ‹©SSDæœåŠ¡å™¨
```

### é…ç½®æ–‡ä»¶æ ¼å¼ (config.json)
```json
{
  "site": {
    "title": "æˆ‘çš„å¯¼èˆªç½‘ç«™",
    "description": "ä¸“ä¸šçš„å¯¼èˆªå¹³å°",
    "logo": {
      "text": "MyNav",
      "href": "/"
    }
  },
  "categoryMap": {
    "è¿½è¸ªç³»ç»Ÿ": "tracking",
    "æµé‡å¹³å°": "traffic"
  },
  "menuItems": [
    {
      "name": "è¿½è¸ªç³»ç»Ÿ",
      "href": "#tracking",
      "icon": "mdi:chart-line",
      "type": "single",
      "sites": [...]
    }
  ]
}
```

## ğŸš€ éƒ¨ç½²æ–¹æ¡ˆ

### å¹³å°é€‰æ‹©

#### é…ç½®ç”Ÿæˆå™¨ (åç«¯æœåŠ¡)
- **é¦–é€‰**: Vercel - Serverless Functionsæ”¯æŒæœ€ä½³
- **å¤‡é€‰**: Netlify - FunctionsåŠŸèƒ½å®Œå–„
- **å¤‡é€‰**: Cloudflare Pages - Workersæ€§èƒ½ä¼˜ç§€

#### å¯¼èˆªç½‘ç«™ (é™æ€å‰ç«¯)
- **é¦–é€‰**: GitHub Pages - å…è´¹ç¨³å®š
- **å¤‡é€‰**: Netlify - è‡ªåŠ¨éƒ¨ç½²ä¾¿æ·
- **å¤‡é€‰**: Vercel - æ€§èƒ½ä¼˜ç§€

### éƒ¨ç½²é…ç½®

#### Verceléƒ¨ç½² (é…ç½®ç”Ÿæˆå™¨)
```json
{
  "functions": {
    "src/pages/api/*.ts": {
      "maxDuration": 30
    }
  },
  "rewrites": [
    {
      "source": "/api/(.*)",
      "destination": "/api/$1"
    }
  ]
}
```

#### GitHub Actions (å¯¼èˆªç½‘ç«™)
```yaml
name: Deploy to GitHub Pages
on:
  push:
    branches: [ main ]
jobs:
  build-and-deploy:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - name: Setup Node.js
        uses: actions/setup-node@v3
      - name: Install and Build
        run: |
          npm install
          npm run build
      - name: Deploy
        uses: peaceiris/actions-gh-pages@v3
```

## ğŸ¯ æŠ€æœ¯ç‰¹æ€§

### å‰ç«¯ç‰¹æ€§
- âš¡ **æé€ŸåŠ è½½** - çº¯é™æ€ï¼Œæ— APIè°ƒç”¨
- ğŸ“± **å“åº”å¼è®¾è®¡** - æ”¯æŒæ‰€æœ‰è®¾å¤‡
- ğŸ” **æœç´¢åŠŸèƒ½** - å¿«é€Ÿå®šä½ç½‘ç«™
- ğŸ¨ **ä¸»é¢˜å®šåˆ¶** - æ”¯æŒå¤šç§æ ·å¼
- ğŸ”— **SEOå‹å¥½** - é™æ€é¡µé¢ï¼Œæœç´¢å¼•æ“å‹å¥½

### åç«¯ç‰¹æ€§
- ğŸ“Š **è¡¨æ ¼è§£æ** - æ”¯æŒExcelå’ŒCSVæ ¼å¼
- âœ… **æ•°æ®éªŒè¯** - å®Œæ•´çš„é”™è¯¯æ£€æŸ¥å’Œæç¤º
- ğŸ”„ **å®æ—¶é¢„è§ˆ** - ä¸Šä¼ åå³æ—¶é¢„è§ˆæ•ˆæœ
- ğŸ“¥ **æ–‡ä»¶ä¸‹è½½** - ä¸€é”®ä¸‹è½½é…ç½®æ–‡ä»¶
- ğŸ›¡ï¸ **å®‰å…¨å¯é ** - æ•°æ®å¤„ç†å®‰å…¨ï¼Œæ— å­˜å‚¨é£é™©

## ğŸ’¡ ä½¿ç”¨åœºæ™¯

### é€‚ç”¨äººç¾¤
- **ä¸ªäººå¼€å‘è€…** - å¿«é€Ÿæ­å»ºä¸ªäººå¯¼èˆªç«™
- **ä¼ä¸šå›¢é˜Ÿ** - å†…éƒ¨èµ„æºå¯¼èˆªç®¡ç†
- **å†…å®¹åˆ›ä½œè€…** - å·¥å…·èµ„æºæ•´ç†åˆ†äº«
- **æŠ€æœ¯ç¤¾åŒº** - ä¸“ä¸šå·¥å…·å¯¼èˆªå¹³å°

### å…¸å‹åº”ç”¨
- Affiliateè¥é”€å·¥å…·å¯¼èˆª
- è®¾è®¡èµ„æºå¯¼èˆªç«™
- å¼€å‘å·¥å…·é›†åˆ
- å­¦ä¹ èµ„æºæ•´ç†
- ä¼ä¸šå†…éƒ¨ç³»ç»Ÿå¯¼èˆª

## ğŸ”® æœªæ¥è§„åˆ’

### çŸ­æœŸç›®æ ‡ (1-3ä¸ªæœˆ)
- [ ] å®ŒæˆåŒé¡¹ç›®åŸºç¡€æ¶æ„
- [ ] å®ç°è¡¨æ ¼å¯¼å…¥åŠŸèƒ½
- [ ] æ”¯æŒåŸºç¡€çš„é…ç½®ç”Ÿæˆ
- [ ] å®Œå–„æ–‡æ¡£å’Œç¤ºä¾‹

### ä¸­æœŸç›®æ ‡ (3-6ä¸ªæœˆ)
- [ ] æ·»åŠ å¤šä¸»é¢˜æ”¯æŒ
- [ ] å®ç°é…ç½®ç‰ˆæœ¬ç®¡ç†
- [ ] æ”¯æŒæ‰¹é‡æ“ä½œ
- [ ] æ·»åŠ æ•°æ®ç»Ÿè®¡åŠŸèƒ½

### é•¿æœŸç›®æ ‡ (6-12ä¸ªæœˆ)
- [ ] å¼€å‘å¯è§†åŒ–ç¼–è¾‘å™¨
- [ ] æ”¯æŒæ’ä»¶ç³»ç»Ÿ
- [ ] å®ç°ç”¨æˆ·ç®¡ç†
- [ ] æ„å»ºæ¨¡æ¿å¸‚åœº

## ğŸ“ æŠ€æœ¯æ”¯æŒ

- **é¡¹ç›®åœ°å€**: https://github.com/your-org/astro-nav
- **æ–‡æ¡£ç«™ç‚¹**: https://astro-nav-docs.vercel.app
- **æ¼”ç¤ºåœ°å€**: https://astro-nav-demo.github.io
- **é—®é¢˜åé¦ˆ**: GitHub Issues

---

*æœ¬æ–‡æ¡£å°†éšç€é¡¹ç›®å‘å±•æŒç»­æ›´æ–°ï¼Œç¡®ä¿ä¸å®é™…å®ç°ä¿æŒåŒæ­¥ã€‚*
